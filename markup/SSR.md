# 互动测验系统需求规格说明书（最新版）

## 1. 项目背景与目标
- 实现现代化、可扩展的前端互动测验系统，支持多题型、题库切换、解析展示、成绩统计、无障碍与响应式设计。

## 2. 技术架构与目录结构
- 纯前端实现，核心文件均在 `public/` 目录下，题库为标准 JSON，支持多题库自动识别与切换。
- 主要目录结构如下：
  ```
  quiz/
  ├── public/
  │   ├── index.html
  │   ├── script.js
  │   ├── style.css
  │   └── lib/
  │       ├── quiz_data_Example.json
  │       └── quiz_English_data.json
  ├── images/
  ├── server.js
  └── readme.md
  ```

## 3. 题库数据格式（JSON）
- 每个题库为独立 JSON 文件，结构如下：
  ```json
  {
    "title": "题库名称",
    "questions": [
      {
        "id": 1,
        "type": "题目分类",
        "questionType": "single-choice|multi-choice|fill-in-blank|matching|true-false|...",
        "title": "题目标题",
        "content": "题干内容",
        "mediaType": "video|image|audio", // 可选
        "mediaUrl": "https://...",        // 可选
        "options": [ ... ]                // 结构随题型变化
      }
      // ...更多题目
    ]
  }
  ```
- 题型支持：单选、多选、填空、判断、连线、多媒体题等，详见 `public/lib/quiz_data_Example.json`。

## 4. 前端页面与交互
- `index.html`：主页面，含侧边栏导航、题库/题型下拉、主内容区、作答区、计时、正确率、交卷等。
- `script.js`：核心逻辑，支持多题库自动加载、题型筛选、作答、批改、解析、分色显示、无障碍、重做等。
- `style.css`：深色主题，绿色主色，支持响应式、无障碍、滚动条兼容、分色（高分绿/中分橙/低分红）。
- 侧边栏支持题型筛选、题库切换、完成状态高亮，主内容区支持题干锚点定位、媒体展示、交互式作答。

## 5. 主要功能与细节
- 多题库自动识别与切换（无需手动配置，放入 `public/lib/` 即可）。
- 题型筛选、题号锚点、交卷批改、解析展示、成绩分色（90%+绿，60-89%橙，<60%红）。
- 支持视频题、连线题、填空题等复杂交互，所有题型均有详细解析。
- 无障碍优化：按钮 aria-label/title，Tab 可达，移动端友好。
- 样式兼容：滚动条注释说明，仅 Firefox 支持 scrollbar-width/color，主流浏览器用 webkit 前缀。

## 6. 题库扩展与维护
- 题库 JSON 结构清晰，强烈建议自定义制作，字段齐全、无注释、title 必填。
- 新增题库只需放入 `public/lib/`，前端自动识别。
- 支持多题型混合，解析字段建议每题必填，媒体题需填写 mediaType/mediaUrl。

## 7. 典型用户流程
1. 打开 `public/index.html`，选择题库与题型。
2. 点击“开始作答”，计时启动，作答各题。
3. 交卷后自动批改、分色显示正确率、展示解析。
4. 可重做测验或切换题库/题型继续练习。

## 8. 未来扩展建议
- 支持后端 API、用户系统、成绩分析、错题本、题型扩展等。
- 代码结构清晰，便于二次开发和开源协作。

---

如需插入完整代码片段、题库模板或页面截图，可补充于相应章节。
